<!-- ==================== Page-Title (Start) ==================== -->
<div class="page-title">

  <div class="title">
    <h2>Reset Password</h2>
  </div> 

  <div class="link">
      <a routerLink="/home" routerLinkActive="active" ariaCurrentWhenActive="page"><i class="fa-solid fa-house-chimney"></i> Home</a>
    <i class="fa-solid fa-angle-right"></i>
    <span class="page">Reset Password</span>
  </div>

</div>
<!-- ==================== Page-Title (End) ==================== -->


  
<!-- ==================== Reset-Password Area (Start) ==================== -->
<section class="reset-pwd">
<form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="account-form">
  <div class="icon"><i class="fa-solid fa-user"></i></div>
  <h3>{{ isResetMode ? 'Reset Password' : 'Forgot Password' }}</h3>

  <!-- Email input for forgot password -->
  <div class="input-field" *ngIf="!isResetMode">
    <label for="email" class="far fa-envelope"></label>
    <input type="email" formControlName="email" placeholder="Enter your email" id="email" 
           class="box" [ngClass]="{ 'is-invalid': isInvalid('email') }">
  </div>
  <div *ngIf="!isResetMode && isInvalid('email')" class="error-message">
    {{ getFormError('email') }}
  </div>

  <!-- Password input for reset password -->
  <div class="input-field" *ngIf="isResetMode">
    <label for="newPassword" class="fas fa-lock"></label>
    <input [type]="showPassword ? 'text' : 'password'" formControlName="newPassword" 
           placeholder="Enter new password" id="newPassword" class="box"
           [ngClass]="{ 'is-invalid': isInvalid('newPassword') }">
    <div class="password-toggle" (click)="togglePasswordVisibility()">
      <i class="fas" [ngClass]="{'fa-eye': showPassword, 'fa-eye-slash': !showPassword}"></i>
    </div>
  </div>
  <div *ngIf="isResetMode && isInvalid('newPassword')" class="error-message">
    {{ getFormError('newPassword') }}
  </div>

  <!-- Messages -->
  <div *ngIf="successMessage" class="success-message" class="box">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="error-message" class="box">{{ errorMessage }}</div>

  <!-- Submit button -->
  <button type="submit" class="btn">
    {{ isResetMode ? 'Reset Password' : 'Send Reset Link' }}
  </button>

  <!-- Links -->
  <p>Back to <a class="link" routerLink="/login">Login</a></p>
</form>
</section>
<!-- ==================== Reset-Password Area (End) ==================== -->